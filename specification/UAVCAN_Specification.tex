% !TEX root
%
% Copyright (c) 2018-2019  UAVCAN Development Team
%

\documentclass{uavcandoc}

\usepackage{multirow}
\usepackage{tabularx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{longtable}
\usepackage{diagbox}

\urlstyle{same}

% This macro embeds the selected DSDL definition or the contents of a DSDL namespace into the document.
% It accepts one mandatory argument which is either a full DSDL type name, e.g. uavcan.node.Heartbeat,
% or a full type name glob expression, e.g., uavcan.node.*.
\newcommand{\DSDL}[1]{%
    % Clean up beforehand to ensure clean initial state.
    \immediate\write18{rm -f ../*.tmp}%
    % Invoke the target command and save the useful output into a file; ignore error output
    \immediate\write18{../render_dsdl.py #1 > ../dsdl.tmp}%
    % Now, if the above command has failed, the output file would be empty. We remove empty file to escalate error.
    % Escalation is very important as it allows us to abort compilation on failure instead of generating invalid
    % documents silently.
    \immediate\write18{find .. -type f -name '*.tmp' -size 0 -delete}%
    % Read the file. This command fails if the file was empty, which is exactly want we want.
    \immediate\input{../dsdl.tmp}%
    % Clean up afterwards to prevent accidental reuse if the command fails the next time we invoke it.
    \immediate\write18{rm -f ../*.tmp}%
}

\newcommand{\DSDLReference}[1]{% We use detokenize to permit underscores
    \mbox{\texttt{\detokenize{#1}}} (section~\ref{sec:dsdl:#1} on page~\pageref{sec:dsdl:#1})%
}

\title{Specification v1.0-beta}

\hbadness=10000

\begin{document}
\frontmatter

\begin{titlepage}

\section*{Overview}

UAVCAN is an open lightweight protocol designed for reliable intravehicular communication
in aerospace and robotic applications over robust transports.
It is created to address the challenge of deterministic on-board data exchange
between systems and components of advanced intelligent vehicles.

UAVCAN은 \emph{Uncomplicated Application-level Vehicular Communication And Networking}를 의미한다.

특징:

\begin{itemize}
    \item 평등한 네트워크 -- 버스 마스터가 없고 단일 장애로 전체 시스템이 불능이 발생하지 않음
    \item Publish/subscribe과 request/response (RPC\footnote{Remote procedure call.}) 통신 시맨틱스
    \item 큰 자료 구조를 효과적으로 교환하기 위한 자동 분해/결합
    \item 경량, deterministic, 구현 및 검증 용이성
    \item 임베디드, 자원 제약, 실시간 시스템에 적합
    \item 2 ~ 3중화 트랜스포트 지원
    \item 높은 정확도의 네트워크내 시간 동기화 지원
    \item 풍부한 데이터 타입 및 인터페이스 추상화 제공 - 인테페이스 서술 언어 Provides rich data type and interface abstractions -- an interface description language is a core part of
    the technology which allows deeply embedded sub-systems to interface with higher-level systems directly and
    in a maintainable manner while enabling simulation and functional testing.
    \item 스펙 및 높은 품질의 구현이 가능하며 대중 프로그래밍 언어에서 무료로 오픈소스로 가능하며 MIT 라이센스로 상업적으로 사용이 가능하다.
\end{itemize}

\BeginRightColumn

\section*{License}

UAVCAN은 모두에게 오픈된 표준이며 항상 이 상태를 유지할 것이다. 
UAVCAN is a standard open to everyone, and it will always remain this way.
No authorization or approval of any kind is necessary for its implementation, distribution, or use.

% The following statement looks a bit archaic, but it is the recommended form according to
% https://creativecommons.org/choose/results-one?license_code=by&amp;jurisdiction=&amp;version=4.0&amp;lang=en
This work is licensed under the Creative Commons Attribution 4.0 International License.
To view a copy of this license, visit
\href{http://creativecommons.org/licenses/by/4.0/}{creativecommons.org/licenses/by/4.0}
or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.

\hspace*{\fill}\includegraphics[height=1.75\baselineskip]{cc-by}\hspace*{\fill}

\section*{Disclaimer of warranty}

Note well: this Specification is provided on an ``as is'' basis, without warranties or conditions of any kind,
express or implied, including, without limitation, any warranties or conditions of
title, non-infringement, merchantability, or fitness for a particular purpose.

\section*{Limitation of liability}

In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise,
unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing,
shall any author of this Specification be liable for damages,
including any direct, indirect, special, incidental, or consequential damages of any character arising
from, out of, or in connection with the Specification or the implementation, deployment,
or other use of the Specification (including but not limited to damages for loss of goodwill,
work stoppage, equipment failure or malfunction, injuries to persons, death,
or any and all other commercial damages or losses),
even if such author has been made aware of the possibility of such damages.

\end{titlepage}

\tableofcontents
\clearpage\onecolumn\listoftables
\clearpage\onecolumn\listoffigures

\mainmatter

\input{introduction/introduction.tex}
\input{basic/basic.tex}
\input{dsdl/dsdl.tex}
\input{transport/transport.tex}
\input{application/application.tex}
\input{sdt/sdt.tex}

\end{document}
